# bindkey -e will be emacs mode
bindkey -v
export KEYTIMEOUT=1

# Always force block cursor
zle-block-cursor() {
    echo -ne '\e[2 q'
}

# Run at shell startup and upon keymap switches
zle -N zle-line-init zle-block-cursor
zle -N zle-keymap-select zle-block-cursor

# Set cursor shape immediately on startup
echo -ne '\e[2 q'

# to solve Ghostty bug
bindkey -M viins '^[[91;5u' vi-cmd-mode
bindkey -M vicmd '^[[91;5u' vi-cmd-mode
